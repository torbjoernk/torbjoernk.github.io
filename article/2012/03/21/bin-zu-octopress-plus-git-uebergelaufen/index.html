<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="author" content="Torbjörn Klatt">
  
  <title>Bin zu Octopress + Git übergelaufen</title>
  
  <meta name="description" content="Just me">
  <link rel="canonical" href="http://torbjoern-klatt.de/article/2012/03/21/bin-zu-octopress-plus-git-uebergelaufen/">

  <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="/css/octicons/octicons.css">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="/css/main.css">

  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>

  <!-- Latest compiled and minified JavaScript -->
  <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>

  <script type="text/javascript" src="/js/jquery.githubRepoWidget.min.js"></script>

  <script type="text/javascript" src="/js/custom.js"></script>
</head>

  <body>
    <nav class="navbar navbar-default" role="navigation">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">Torbjörn Klatt</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Serien / Series <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="/category/otago/">Going to Otago</a></li>
            <li><a href="/category/london/">Bachelor in London</a></li>
          </ul>
        </li>
        <li><a href="/category/english/">English Posts</a></li>
        <li><a href="/about/">Über / About</a></li>
        <li><a href="/archive/">Archiv / Archive</a></li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>


    <div class="container">
      <main>
        <div class="row">
          <div class="main-content col-md-8">
            <div class="post">
  <header class="post-header">
    <h1>Bin zu Octopress + Git übergelaufen</h1>
  </header>
  <article class="post-content">
    <div class="lead">
      <p>Auch wenn noch nicht einmal ein Jahr vergangen ist, seit ich von 
<a href="/article/2011/04/18/erstrahlen-im-neuen-glanze/">Joomla auf Wordpress umgestiegen bin</a>, 
habe ich die Software — oder besser Framework — meines Blogs erneut gewechselt.</p>
    </div>
    

<p>Das neue System nennt sich <a href="http://octopress.org">Octopress</a> und ist absolut unabhängig von PHP und 
MySQL.
Es basiert auf <a href="http://github.com/mojombo/jekyll">Jekyll</a>, einem Generator statischer HTML-Seiten, 
der in Ruby geschrieben ist.
Das ganze ist zudem 100%ig HTML5 mit ein bisschen JavaScript.</p>

<p>Da der gesamte Prozess des Installierens und Einrichtens darin besteht, ein GitHub-Repository zu 
clonen …</p>
<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class=""><span class="line">git clone git://github.com/imathis/octopress.git octopress</span></code></pre></td></tr></table></div></figure></notextile></div>
<p>ein paar Ruby Gems zu installieren …</p>
<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class=""><span class="line">gem install bundler
</span><span class="line">bundle install</span></code></pre></td></tr></table></div></figure></notextile></div>
<p>das grundlegene Layout zu generieren …</p>
<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class=""><span class="line">rake install</span></code></pre></td></tr></table></div></figure></notextile></div>
<p>ein paar Variablen zu konfigurieren …</p>
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span>Ausschnitt meiner Konfigurationsdatei - _config.yml </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class="yaml"><span class="line"><span class="l-Scalar-Plain">url</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">http://torbjoern-klatt.de</span>
</span><span class="line"><span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Torbjörn Klatt</span>
</span><span class="line"><span class="l-Scalar-Plain">subtitle</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">It&#39;s just me.</span>
</span><span class="line"><span class="l-Scalar-Plain">author</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Torbjörn Klatt</span>
</span><span class="line"><span class="l-Scalar-Plain">simple_search</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">http://google.com/search</span>
</span><span class="line"><span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">A blog about my life and things encountered.</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<p>und schließlich das ganze in ein eigenes Git-Repository zu committen …</p>
<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class=""><span class="line">git add .
</span><span class="line">git commit -m "mein Blog ist eingerichtet"
</span><span class="line">git push</span></code></pre></td></tr></table></div></figure></notextile></div>
<p>hat man die Backup-Lösung frei Haus.</p>

<p>Auf Octopress gestoßen bin ich durch den <a href="">Binärgewitter Podcast</a>, die ebenfalls seit diesem Jahr
Octopress einsetzen.
Im Gegensetz zu anderen, die Octopress verwenden, nutze ich nicht 
<a href="http://pages.github.com/">GitHub Pages</a> für die Generierung und Bereitstellung der fertigen 
Webseite, sondern hoste das nach wie vor auf meinem eigenen Webspace.</p>

<p>Dazu binde ich mittels <a href="http://curlftpfs.sourceforge.net/"><code>curlftpfs</code></a> meinen Webspace in mein 
lokales Dateisystem ein und nutze einen eigenen Rake-Task <code>copyto</code>, den ich als Standard für den
<code>deploy</code>-Task definiert habe …</p>
<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class=""><span class="line">rake deploy # generiert die Seite und schiebt sie auf den Webspace</span></code></pre></td></tr></table></div></figure></notextile></div>
<p>Da <code>curlftpfs</code> und <code>rsync</code> sich irgendwie nicht so richtig mögen, habe ich auf das gute alte <code>cp</code>
zurückgegriffen und mir den Rake-Task <code>copyto</code> definiert …</p>
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span>Meine Änderungen am Rakefile </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="n">document_root</span>  <span class="o">=</span> <span class="s2">&quot;../ftp/blog&quot;</span>
</span><span class="line"><span class="n">deploy_default</span> <span class="o">=</span> <span class="s2">&quot;copyto&quot;</span>
</span><span class="line"><span class="c1"># snipp ...</span>
</span><span class="line"><span class="n">desc</span> <span class="s2">&quot;Deploy website via straight copy (optional argument &#39;clean&#39; for prior complete removal)&quot;</span>
</span><span class="line"><span class="n">task</span> <span class="ss">:copyto</span> <span class="k">do</span> <span class="o">|</span><span class="n">args</span><span class="o">|</span>
</span><span class="line">  <span class="nb">puts</span> <span class="s2">&quot;## Mounting remote FTP storage&quot;</span>
</span><span class="line">  <span class="n">ok_failed</span> <span class="nb">system</span><span class="p">(</span><span class="s2">&quot;../mount_tobbe_ftp.sh&quot;</span><span class="p">)</span>
</span><span class="line">  <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">to_s</span><span class="o">.</span><span class="n">casecmp</span><span class="p">(</span><span class="s2">&quot;clean&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
</span><span class="line">    <span class="nb">puts</span> <span class="s2">&quot;## Remove all files&quot;</span>
</span><span class="line">    <span class="n">ok_failed</span> <span class="nb">system</span><span class="p">(</span><span class="s2">&quot;rm -rf </span><span class="si">#{</span><span class="n">document_root</span><span class="si">}</span><span class="s2">*&quot;</span><span class="p">)</span>
</span><span class="line">  <span class="k">else</span>
</span><span class="line">    <span class="nb">puts</span> <span class="s2">&quot;## Leaving remote files untouched.</span>
</span><span class="line"><span class="s2">Just updating.&quot;</span>
</span><span class="line">  <span class="k">end</span>
</span><span class="line">  <span class="nb">puts</span> <span class="s2">&quot;## Deploying website via plain copy&quot;</span>
</span><span class="line">  <span class="nb">puts</span> <span class="s2">&quot;##!! This will ignore all files marked as &#39;exclude&#39;&quot;</span>
</span><span class="line">  <span class="n">ok_failed</span> <span class="nb">system</span><span class="p">(</span><span class="s2">&quot;cp -ruv </span><span class="si">#{</span><span class="n">public_dir</span><span class="si">}</span><span class="s2">/* </span><span class="si">#{</span><span class="n">document_root</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span class="line">  <span class="nb">puts</span> <span class="s2">&quot;## Unmounting remote FTP storage&quot;</span>
</span><span class="line">  <span class="n">ok_failed</span> <span class="nb">system</span><span class="p">(</span><span class="s2">&quot;../unmount_ftp.sh&quot;</span><span class="p">)</span>
</span><span class="line"><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<p>Die beiden Bashskripte enthalten …</p>
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span>mount_tobbe_ftp.sh </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="sh"><span class="line"><span class="c">#!/bin/bash</span>
</span><span class="line"><span class="nv">MY_PATH</span><span class="o">=</span><span class="s2">&quot;`dirname \&quot;$0\&quot;`&quot;</span>
</span><span class="line"><span class="nv">MY_PATH</span><span class="o">=</span><span class="s2">&quot;`(cd \&quot;$MY_PATH\&quot; &amp;&amp; pwd)`&quot;</span>
</span><span class="line">curlftpfs ftp://USERNAME:PASSWORD@torbjoern-klatt.de/ <span class="nv">$MY_PATH</span>/ftp/
</span></code></pre></td></tr></table></div></figure></notextile></div>
<p>und</p>
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span>unmount_ftp.sh </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="sh"><span class="line"><span class="c">#!/bin/bash</span>
</span><span class="line"><span class="nv">MY_PATH</span><span class="o">=</span><span class="s2">&quot;`dirname \&quot;$0\&quot;`&quot;</span>
</span><span class="line"><span class="nv">MY_PATH</span><span class="o">=</span><span class="s2">&quot;`(cd \&quot;$MY_PATH\&quot; &amp;&amp; pwd)`&quot;</span>
</span><span class="line">fusermount -u <span class="nv">$MY_PATH</span>/ftp/
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Das ist alles.</p>

<p>Die Aktualisierung von Octopress ist ebenfalls deutlich schmerzfreier als bei WordPress o.ä.
Da alles über Git läuft, übernimmt Git und Rake einem die meiste Arbeit.
Wie das genau geht, steht in der leider noch etwas ausbaufähigen Octopress-Dokumentation:
<a href="http://octopress.org/docs/updating/">http://octopress.org/docs/updating/</a></p>

  </article>
  <footer class="article">
  
  
  



  
    
  



  <i class="fa fa-calendar"></i> Created on <time datetime="2012-03-21T19:29:00+01:00">21 Mar 2012</time>



  


  
  
    &#8226;
    <!---->
<i class="fa fa-tags"></i>&nbsp;
<span class="categories">
  
    <a class='category' href='/category/diverses/'>Diverses</a>
  
</span>
<!---->

  
  <span class="legal-notice">
  <a href="//creativecommons.org/licenses/by-nc-sa/4.0/legalcode"
     title="This work is licensed under a Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License">
    <img src="/images/cc_by-nc-sa_4.0.png" alt="CC BY-NC-SA 4.0">
  </a>
  <span class="licensed-work-title" xmlns:dct="//purl.org/dc/terms/" href="//purl.org/dc/dcmitype/Text" property="dct:title">
    Bin zu Octopress + Git übergelaufen
  </span>
  by
  <span class="licensed-work-author" xmlns:cc="//creativecommons.org/ns#" property="cc:attributionName">
    Torbjörn Klatt
  </span>
  is licensed under a
  <a rel="license" href="//creativecommons.org/licenses/by-nc-sa/4.0/">
    Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License
  </a>.
</span>

</footer>

</div>

          </div>
          <div class="asides col-md-4">
            <section id="recent-posts-aside" class="aside panel panel-default">
  <div class="panel-heading">
    <a type="button" class="btn btn-default btn-xs pull-right" href="feed.xml" role="button" title="subscribe via RSS">
      <i class="fa fa-rss"></i>
      <!--<span class="hidden-xs">RSS</span>-->
    </a>
    <h3 class="panel-title">
      Neue Artikel / Recent Posts
    </h3>
  </div>
  
  <ul class="list-group">
    
    <li class="list-group-item">
      <span class="label label-default">21 Aug 2014</span>
      <a href="/article/2014/08/21/c++-code-coverage-analysis-with-cmake-and-jenkins/">C++ Code Coverage Analysis with CMake and Jenkins</a>
    </li>
    
    <li class="list-group-item">
      <span class="label label-default">03 Apr 2013</span>
      <a href="/article/2013/04/03/struggling-with-git-submodules-and-mercurial-subrepositories/">Struggling with Git Submodules and Mercurial Subrepositories</a>
    </li>
    
    <li class="list-group-item">
      <span class="label label-default">06 Nov 2012</span>
      <a href="/article/2012/11/06/boost-unter-linux-selbst-installieren/">Boost unter Linux selbst installieren</a>
    </li>
    
    <li class="list-group-item">
      <span class="label label-default">17 Jun 2012</span>
      <a href="/article/2012/06/17/es-war-der-kernel-und-ipv6/">Es war der Kernel und IPv6</a>
    </li>
    
    <li class="list-group-item">
      <span class="label label-default">08 Apr 2012</span>
      <a href="/article/2012/04/08/owncloud-plus-thunderbird-plus-android-equals-perfect-sync/">ownCloud + Thunderbird + Android = Perfect Sync</a>
    </li>
    
  </ul>
</section>

            <section id="gh-repos-aside" class="aside gh-repos panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title"><i class="fa fa-github fa-fw"></i>GitHub Repos</h3>
  </div>
  <div class="list-group" id="gh_repos">
    <p class="loading">Status updating...</p>
  </div>
  
    <div class="panel-body gh-profile-link text-muted">
      <div class="pull-right">
        <a href="https://github.com/torbjoernk">@torbjoernk</a> on <i class="fa fa-github fa-fw"></i>GitHub
      </div>
    </div>
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/js/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'torbjoernk',
            count: '5',
            skip_forks: 'true',
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/js/github.js" type="text/javascript"></script>
</section>

            <section class="legal">
  <div class="btn-group btn-group-xs btn-group-justified">
    <a href="/imprint/" class="btn" role="button">
      &copy;<span class="hidden-xs">&ensp;Imprint</span>
    </a>
    <a href="" class="btn" role="button">
      <i class="fa fa-code"></i><span class="hidden-xs">&ensp;Source</span>
    </a>
  </div>
</section>
          </div>
        </div><!-- /.row -->
      </main>
    </div><!-- /.container -->

    <footer id="site-footer">
  <div class="blog-footer">
    <a href="#">Back to top</a>
  </div>
</footer>

    
  </body>
</html>
