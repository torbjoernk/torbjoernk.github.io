<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="author" content="Torbjörn Klatt">
  
  <title>ownCloud + Thunderbird + Android = Perfect Sync</title>
  
  <meta name="description" content="Just me">
  <link rel="canonical" href="http://torbjoern-klatt.de/article/2012/04/08/owncloud-plus-thunderbird-plus-android-equals-perfect-sync/">

  <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="/css/octicons/octicons.css">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="/css/main.css">

  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>

  <!-- Latest compiled and minified JavaScript -->
  <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>

  <script type="text/javascript" src="/js/jquery.githubRepoWidget.min.js"></script>

  <script type="text/javascript" src="/js/custom.js"></script>
</head>

  <body>
    <nav class="navbar navbar-default" role="navigation">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">Torbjörn Klatt</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Serien / Series <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="/category/otago/">Going to Otago</a></li>
            <li><a href="/category/london/">Bachelor in London</a></li>
          </ul>
        </li>
        <li><a href="/category/english/">English Posts</a></li>
        <li><a href="/about/">Über / About</a></li>
        <li><a href="/archive/">Archiv / Archive</a></li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>


    <div class="container">
      <main>
        <div class="row">
          <div class="main-content col-md-8">
            <div class="post">
  <header class="post-header">
    <h1>ownCloud + Thunderbird + Android = Perfect Sync</h1>
  </header>
  <article class="post-content">
    <div class="lead">
      <p>Ich habe es endlich hinbekommen!
Das mit der schmerzfreien Synchronisation meiner Kalender und Adressbücher 
zwischen meinem PC und meinem Android-Phone.
Und das <strong>ohne</strong> einer Datenkrake wie <em>Google</em> dazwischen.</p>

<p>Hier will ich nun beschreiben, wie ich das hinbekommen habe.</p>

<p><em>Es gibt ein Update (19.04.2012)</em></p>
    </div>
    

<h2 id="thunderbird">Thunderbird</h2>
<p>Dass ich von <em>KDE PIM</em> (a la <em>KMail</em> und <em>KOrganizer</em>) auf <em>Thunderbird</em> mit 
<em>Lightning</em> umgestiegen bin, will ich hier nur kurz erwähnen und nicht weiter 
kommentieren.
Das soll ein postivier Blogpost werden und kein Rant.</p>

<p>Ich setze hier <em>Thunderbird 11.0.1</em> unter einem 64bittigen <em>openSUSE 11.4</em> ein.</p>

<h3 id="kontakte">Kontakte</h3>
<p>Um die Kontakte-Synchronisation mit <em>ownCloud</em> hinzubekommen und nicht auf die 
scheinbar kaputten Adressbuch Im- und Exportfunktionen angewiesen zu sein, habe 
ich die folgenden AddOns installiert:</p>

<ul>
  <li><a href="http://www.sogo.nu/files/downloads/extensions/sogo-connector-10.0.1.xpi">SOGo Connector</a></li>
  <li><a href="https://nic-nac-project.org/~kaosmos/morecols-en.html">MoreFunctionsForAddressbook</a></li>
</ul>

<p>Den Tipp hierfür bekam ich im <a href="http://forum.owncloud.org/viewtopic.php?f=3&amp;t=2040"><em>ownCloud</em> Forum</a>.</p>

<h3 id="kalender">Kalender</h3>
<p>Das <em>Lightning</em>-Plugin bringt alle Funktionalität mit, die für eine
Synchronisation über <em>CalDAV</em> nötig sind.
Es sind keine zusätzlichen Plugins oder besonderen Einstellungen nötig.</p>

<h2 id="android">Android</h2>
<p>Vorweg: Hier muss man etwas Geld investieren — doch es lohnt sich.
Im Android-Market sind die folgenden Apps zu beziehen:</p>

<ul>
  <li><a href="https://play.google.com/store/apps/details?id=org.dmfs.caldav.lib">CalDAV-Sync beta</a>,
2,14€</li>
  <li><a href="https://play.google.com/store/apps/details?id=org.dmfs.carddav.Sync">CardDAV-Sync beta</a>,
1,53€</li>
</ul>

<p>Sie sorgen für die Synchronisation mit (der noch aufzusetzenden) 
<em>ownCloud</em>-Instanz.
Einmal eingerichtet bleiben sie im Hintergrund und tauchen nur unter „<em>Konten &amp;
Synchronisation</em>“ auf.
Dabei erstellen sie für jeden synchronisierten Kalender oder Adressbuch ein
entsprechendes Pondon auf dem Gerät, die sich dann in einer beliebigen 
Kalenderanwendung bzw.
Kontaktverwaltung auswählen lassen.</p>

<p><em>Kleines Manko</em>: Man benötigt nur ein <em>CalDAV</em>-Konto für alle Kalender, aber pro
Adressbuch ein <em>CardDAV</em>-Konto.
Mit viele Adressbüchern ist das etwas nervig einzurichten.</p>

<h2 id="owncloud">ownCloud</h2>
<p>Ich beziehe mich hier auf die derzeit aktuellste Version 3.0, die ich über Git
bezogen habe.</p>

<h3 id="vorbereitung">Vorbereitung</h3>
<p>Ich habe alles (außer dem <code>.git</code>-Ordner) in ein gezipptes-Tar-Archiv gepackt
und auf meinen Webspace bei <em>All-inkl.com</em> hochgeladen.
Dort ist ganz wichtig, dass man standardmäßig PHP 5.3.10 aktiviert hat.
Bei mir war das leider noch nicht der Fall, doch eine E-Mail an den Support, und
eine Nacht später war ich auf einen neueren Server umgezogen.
Kostenfrei versteht sich.</p>

<p>Dann nohc der Anleitung auf <a href="http://owncloud.org/support/setup-and-installation/webspace/">ownCloud.org</a>
folgen, d.h. <code>data</code>-Ordner anlegen, 0750 geben und dem <code>config</code>-Ordner 0777
geben.
Schließlich noch über <em>WebFTP</em> den Inhaber des gesamten <code>ownCloud</code>-Ordners auf
<code>www-data</code> ändern (rekursiv!).</p>

<h3 id="installation">Installation</h3>
<p>Nachdem man nicht vergessen hat, eine <em>MySQL</em>-Datenbank für <em>ownCloud</em>
einzurichten (und am besten eine Subdomain), kann man nun sein eigenes
<em>ownCloud</em> besuchen.
Zunächst einmal einen <em>Admin</em>-Konto anlegen und die Zugangsdaten zur
<em>MySQL</em>-Datenbank angeben.
Bitte nicht <em>SQlite</em> ausgewählt lassen!</p>

<p>Bitte nicht von der PHP-Fehlermeldung erschrecken lassen.
Für irgendetwas will <em>ownCloud</em> auf <code>/dev/urandom</code> bei der initialen Einrichtung
zugreifen.
Das ist in einem Webspace leider nicht möglich.
Funktioniert auch so alles prima.</p>

<p>Einfach noch einmal die Seite aufrufen (nicht <code>F5</code>) und man „ist drin“.
Ich habe erst einmal alle Anwendungen deaktiviert, die ich nicht benötige:
Also alles, was nicht „<em>Calendar</em>“ oder „<em>Contacts</em>“ heißt.</p>

<p>Dann noch einen Benutzer für den eigentlichen Gebrauch anlegen, den man bitte
nicht der <em>Admin</em>-Gruppe zuordnet.</p>

<h2 id="synchronisation">Synchronisation</h2>
<p>Im Prinzip ganz einfach.
Aber erst die entsprechenden Kalender und Adressbücher in der
<em>ownCloud</em>-Oberfläche anlegen.</p>

<h3 id="kalender-1">Kalender</h3>
<p>In <em>Lightning</em> einen neuen Kalender anlegen, der „<em>im Netzwerk</em>“ und vom Typ
„<em>CalDAV</em>“ ist.
Als <em>Adresse</em> gibt man hier die an, die einem <em>ownCloud</em> anzeigt, wenn man dort
auf das <em>Welt</em>-Icon klickt.
Das sieht in etwa so aus:</p>

<pre><code>http://beispiel.de/apps/calendar/caldav.php/calendars/[BENUTZER]/[KALENDER]
</code></pre>

<p>In <em>Lightning</em> importiert man dann eine Kalenderadatei von der Festplatte (z.B.
<em>ICal</em>) in den neu erstellten Kalender.<br />
Fertig.</p>

<p>Gleiches gibt man auch auf dem Android in <em>CalDAV-Sync beta</em> ein.
Mit dem einzigen Unterschied, dass man nur die URL bis zum Kalendernamen
eintragen muss.
Die einzelnen Kalender findet er selber.</p>

<h3 id="kontakte-1">Kontakte</h3>
<p>Hier habe ich mich stark an das eingangs genannte Mini-HowTo im <em>ownCloud</em>-Forum
gehalten.
Das <em>MoreFunctions…</em>-AddOn ermöglicht es einem im Adressbuch unter
<em>Datei</em>/<em>Neu</em> ein <em>Remote-Adressbuch</em> anzulegen.
Die einzugebende Adresse verrät einem <em>ownCloud</em>:</p>

<pre><code>http://beispiel.de/apps/contacts/carddav.php/addressbooks/[BENUTZER]/[ADRESSBUCH]/
</code></pre>

<p>Wie eingangs erwähnt, ist es etwas nervig mehrere Adressbücher auf dem Android
mit <em>CardDAV-Sync beta</em> einzurichten.
Aber es ist ja eine einmalige Sache.</p>

<p>Leider brachte mir die initiale Synchronisation meiner Kontaktdaten von
<em>Thunderbird</em> nach <em>ownCloud</em> die Namensfelder etwas durcheinander.
Insbesondere die Titel, Vor- und Nachnamen passten bei all den Einträge nicht,
die einen oder mehrere Titel (wie „<em>Dr.</em>“ oder „<em>Prof.</em>“) oder der Vor- oder
Nachname aus jeweils mehr als einem Wort bestand.
Hier musste ich in der Weboberfläche von <em>ownCloud</em> nachbessern.</p>

<p><strong>Update 19.04.2012</strong><br />
Vor ein paar Tagen habe ich gemerkt, dass ich meine Kontakte auf dem Android
nicht mehr wirklich bearbeiten kann.
Das liegt insbesondere an Android bzw.
Google selbst, die die entsprechende API
nicht richtig freigegeben haben.
So können Sync-Tools wie das hier erwähnte <em>CardDAV-Sync</em> nicht richtig auf das
interne Format der Kontakte zugreifen.</p>

<p>Vom gleichen Autor, wie <em>CardDAV-Sync</em> und <em>CalDAV-Sync</em> gibt es den
<a href="https://play.google.com/store/apps/details?id=org.dmfs.android.contacteditorpp">Contact Editor Pro</a>
(€2,14) und dessen etwas reduzierte kostenlose Gegenstück.
Wählt man beim Kontakteeditieren diesen an statt Androids eigenen aus,
funktioniert alles wieder reibungslos.<br />
Nettes Randfeature: Dieser Kontakteditor kann deutlich mehr CardDAV-Felder
beschreiben als Androids eigener.<br />
<strong>Update Ende</strong></p>

<h2 id="fazit">Fazit</h2>
<p>Endlich funktioniert die Synchronisation meiner Kalender und Adressbücher sauber
und schmerzfrei und ohne, dass irgend eine Datenkrake da mithören kann.
Zudem bin ich absolut unabhängig von irgendwelchen Online-Diensten, denn sollte
mein Hoster dicht machen oder ich einen anderen wählen, so brauche ich lediglich
meinen Webspace umziehen lassen (Daten- und Datenbank-Backup) und die Domain
samt Subdomain auf den neuen Ort umleiten.
Weder in Thunderbird noch im Android muss ich dafür irgendetwas umstellen.</p>

  </article>
  <footer class="article">
  
  
  



  
    
  



  <i class="fa fa-calendar"></i> Created on <time datetime="2012-04-08T19:01:00+02:00">08 Apr 2012</time>



  


  
  
    &#8226;
    <!---->
<i class="fa fa-tags"></i>&nbsp;
<span class="categories">
  
    <a class='category' href='/category/diverses/'>Diverses</a>, <a class='category' href='/category/linux/'>Linux</a>
  
</span>
<!---->

  
  <span class="legal-notice">
  <a href="//creativecommons.org/licenses/by-nc-sa/4.0/legalcode"
     title="This work is licensed under a Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License">
    <img src="/images/cc_by-nc-sa_4.0.png" alt="CC BY-NC-SA 4.0">
  </a>
  <span class="licensed-work-title" xmlns:dct="//purl.org/dc/terms/" href="//purl.org/dc/dcmitype/Text" property="dct:title">
    ownCloud + Thunderbird + Android = Perfect Sync
  </span>
  by
  <span class="licensed-work-author" xmlns:cc="//creativecommons.org/ns#" property="cc:attributionName">
    Torbjörn Klatt
  </span>
  is licensed under a
  <a rel="license" href="//creativecommons.org/licenses/by-nc-sa/4.0/">
    Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License
  </a>.
</span>

</footer>

</div>

          </div>
          <div class="asides col-md-4">
            <section id="recent-posts-aside" class="aside panel panel-default">
  <div class="panel-heading">
    <a type="button" class="btn btn-default btn-xs pull-right" href="feed.xml" role="button" title="subscribe via RSS">
      <i class="fa fa-rss"></i>
      <!--<span class="hidden-xs">RSS</span>-->
    </a>
    <h3 class="panel-title">
      Neue Artikel / Recent Posts
    </h3>
  </div>
  
  <ul class="list-group">
    
    <li class="list-group-item">
      <span class="label label-default">21 Aug 2014</span>
      <a href="/article/2014/08/21/c++-code-coverage-analysis-with-cmake-and-jenkins/">C++ Code Coverage Analysis with CMake and Jenkins</a>
    </li>
    
    <li class="list-group-item">
      <span class="label label-default">03 Apr 2013</span>
      <a href="/article/2013/04/03/struggling-with-git-submodules-and-mercurial-subrepositories/">Struggling with Git Submodules and Mercurial Subrepositories</a>
    </li>
    
    <li class="list-group-item">
      <span class="label label-default">06 Nov 2012</span>
      <a href="/article/2012/11/06/boost-unter-linux-selbst-installieren/">Boost unter Linux selbst installieren</a>
    </li>
    
    <li class="list-group-item">
      <span class="label label-default">17 Jun 2012</span>
      <a href="/article/2012/06/17/es-war-der-kernel-und-ipv6/">Es war der Kernel und IPv6</a>
    </li>
    
    <li class="list-group-item">
      <span class="label label-default">08 Apr 2012</span>
      <a href="/article/2012/04/08/owncloud-plus-thunderbird-plus-android-equals-perfect-sync/">ownCloud + Thunderbird + Android = Perfect Sync</a>
    </li>
    
  </ul>
</section>

            <section id="gh-repos-aside" class="aside gh-repos panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title"><i class="fa fa-github fa-fw"></i>GitHub Repos</h3>
  </div>
  <div class="list-group" id="gh_repos">
    <p class="loading">Status updating...</p>
  </div>
  
    <div class="panel-body gh-profile-link text-muted">
      <div class="pull-right">
        <a href="https://github.com/torbjoernk">@torbjoernk</a> on <i class="fa fa-github fa-fw"></i>GitHub
      </div>
    </div>
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/js/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'torbjoernk',
            count: '5',
            skip_forks: 'true',
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/js/github.js" type="text/javascript"></script>
</section>

            <section class="legal">
  <div class="btn-group btn-group-xs btn-group-justified">
    <a href="/imprint/" class="btn" role="button">
      &copy;<span class="hidden-xs">&ensp;Imprint</span>
    </a>
    <a href="" class="btn" role="button">
      <i class="fa fa-code"></i><span class="hidden-xs">&ensp;Source</span>
    </a>
  </div>
</section>
          </div>
        </div><!-- /.row -->
      </main>
    </div><!-- /.container -->

    <footer id="site-footer">
  <div class="blog-footer">
    <a href="#">Back to top</a>
  </div>
</footer>

    
  </body>
</html>
